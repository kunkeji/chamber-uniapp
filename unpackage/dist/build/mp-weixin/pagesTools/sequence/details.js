(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesTools/sequence/details"],{"00fe":function(t,e,n){"use strict";var i=n("56df"),a=n.n(i);a.a},"3a76":function(t,e,n){"use strict";n.r(e);var i=n("9c49"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"56df":function(t,e,n){},"9c49":function(t,e,n){"use strict";(function(t){var i=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("7ca3")),o=n("8f59");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var c={data:function(){return{loadEnd:!1,id:0,type:0,chainsDetails:{},manList:[],showLogin:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,a.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,o.mapState)({themeColor:function(t){return t.app.themeColor},jielongImg:function(t){return t.app.jielongImg},loginImg:function(t){return t.app.loginImg}})),onLoad:function(e){var n=this;t.showLoading({title:"加载中"}),this.id=e.id,this.id&&(this.getChainsDetails((function(){t.hideLoading(),n.loadEnd=!0})),this.chainsFeedback())},onShow:function(){this.loadEnd&&(this.getChainsDetails(),this.chainsFeedback())},onShareAppMessage:function(){return{title:this.chainsDetails.name,path:"/pagesTools/sequence/details?id="+this.id,imageUrl:this.jielongImg}},onShareTimeline:function(){return{title:this.chainsDetails.name,path:"/pagesTools/sequence/details?id="+this.id,imageUrl:this.jielongImg}},methods:{getChainsDetails:function(e){var n=this;this.$util.request("sequence.chainsDetails",{id:this.id}).then((function(i){1==i.code?2==i.data.data.jielong_auth?n.getMemberState((function(){e&&e(),n.chainsDetails=i.data.data,n.manList=i.data.member_data})):(e&&e(),n.chainsDetails=i.data.data,n.manList=i.data.member_data):(e&&e(),t.showToast({title:i.msg,icon:"none"}))})).catch((function(t){401==t?n.showLogin=!0:console.error("获取详情 ",t)}))},getMemberState:function(e){var n=this;this.$util.request("member.state").then((function(i){1==i.code?6==i.data.state.state?e():-1==i.data.state.state?t.showModal({title:"系统提示",content:"此页面需成为会员后可查看！",confirmColor:n.themeColor,confirmText:"去加入",success:function(e){e.confirm&&t.navigateTo({url:"/pages/member/apply/index"})}}):t.showModal({title:"系统提示",content:"此页面需成为会员后可查看！",confirmColor:n.themeColor,confirmText:"前往查看",success:function(e){e.confirm&&t.switchTab({url:"/pages/mine/index"})}}):t.showToast({title:i.msg,icon:"none"})})).catch((function(t){console.error("获取会员状态 ",t)}))},nameToFeedback:function(e){var n=this;2==this.chainsDetails.type&&this.$util.request("sequence.chainsFeedback",{id:this.id}).then((function(i){1==i.code?2==i.data.status&&i.data.id==e.id?n.$util.toPage({mode:1,path:"/pagesTools/sequence/feedback?name="+i.data.member_name+"&memberId="+i.data.id+"&chainsId="+n.id}):1==i.data.status&&i.data.id==e.id&&t.showToast({title:"您已反馈过该接龙",icon:"none",duration:1e3}):t.showToast({title:i.msg,icon:"none"})})).catch((function(t){console.error("判断是否反馈过",t)}))},chainsFeedback:function(){var e=this;this.$util.request("sequence.chainsFeedback",{id:this.id}).then((function(n){1==n.code?e.type=n.data.status:t.showToast({title:n.msg,icon:"none"})})).catch((function(t){console.error("判断是否反馈过",t)}))},toFeedback:function(){var e=this;this.$util.request("sequence.chainsFeedback",{id:this.id}).then((function(n){1==n.code?2==n.data.status?e.$util.toPage({mode:1,path:"/pagesTools/sequence/feedback?name="+n.data.member_name+"&memberId="+n.data.id+"&chainsId="+e.id}):t.showToast({title:"您已反馈过该接龙",icon:"none",duration:1e3}):t.showToast({title:n.msg,icon:"none"})})).catch((function(t){console.error("判断是否反馈过",t)}))},toFeedInfo:function(e){t.navigateTo({url:"/pagesTools/sequence/feedInfo?id="+e})},onContact:function(){this.$util.toPage({mode:6,phone:this.chainsDetails.mobile})},toLogin:function(){t.navigateTo({url:"/pages/login/index"})},toBack:function(){1==getCurrentPages().length?this.$util.toPage({mode:1,path:"/pages/index/index"}):t.navigateBack()}}};e.default=c}).call(this,n("df3c")["default"])},b734:function(t,e,n){"use strict";n.r(e);var i=n("fbcc"),a=n("3a76");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("00fe");var s=n("828b"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=c.exports},d7b99:function(t,e,n){"use strict";(function(t,e){var i=n("47a9");n("13b0");i(n("3240"));var a=i(n("b734"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},fbcc:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=(this._self._c,this.loadEnd?this.manList.length:null);this.$mp.data=Object.assign({},{$root:{g0:e}})},a=[]}},[["d7b99","common/runtime","common/vendor"]]]);