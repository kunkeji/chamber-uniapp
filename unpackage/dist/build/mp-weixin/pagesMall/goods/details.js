(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesMall/goods/details"],{"27dd":function(t,e,o){"use strict";(function(t,e){var n=o("47a9");o("13b0");n(o("3240"));var i=n(o("9c58"));t.__webpack_require_UNI_MP_PLUGIN__=o,e(i.default)}).call(this,o("3223")["default"],o("df3c")["createPage"])},"3c06":function(t,e,o){"use strict";(function(t){var n=o("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(o("7ca3")),a=o("8f59");function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}var s={components:{carousel:function(){o.e("pages/component/carousel/carousel").then(function(){return resolve(o("0ffb"))}.bind(null,o)).catch(o.oe)}},data:function(){return{loadEnd:!1,goodsId:"",goodsDetails:{},isExpand:!1,isMultiLine:!0,carouselList:[]}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){(0,i.default)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},(0,a.mapState)({themeColor:function(t){return t.app.themeColor}})),onLoad:function(e){var o=this;this.goodsId=e.id,t.showLoading({title:"加载中"}),this.getGoodsDetails((function(){t.hideLoading(),o.loadEnd=!0}))},onShareAppMessage:function(){return{title:this.goodsDetails.name,path:"/pagesMall/goods/details?id="+this.goodsId,imageUrl:this.carouselList[0].image}},onShareTimeline:function(){return{title:this.goodsDetails.name,path:"/pagesMall/goods/details?id="+this.goodsId,imageUrl:this.carouselList[0].image}},methods:{getGoodsDetails:function(e){var o=this;this.$util.request("mall.goodsDetails",{id:this.goodsId}).then((function(n){if(e&&e(),1==n.code){o.goodsDetails=n.data,o.goodsDetails.oldPrice=n.data.ot_price;for(var i=n.data.slider_images.split(","),a=0;a<i.length;a++){var r={id:a+1,image:i[a]};o.carouselList.push(r)}var s=JSON.parse(o.goodsDetails.param_json),c="";for(var l in s)c+=l+":"+s[l]+" ";o.goodsDetails.paramJson=c.trim()}else t.showToast({title:n.msg,icon:"none"})})).catch((function(t){e&&e(),console.error("获取商品详情",t)}))},toOrder:function(){this.$util.toPage({mode:1,path:"/pagesMall/goods/order?id="+this.goodsId})},handleExpand:function(){this.isExpand=!this.isExpand},getCollapse:function(e){var o=this;t.createSelectorQuery().select("#text").boundingClientRect((function(n){var i=parseInt(n.height/t.upx2px(40));i>1?(o.isMultiLine=!0,o.isExpand=!1):(o.isMultiLine=!1,o.isExpand=!0),e()})).exec()}}};e.default=s}).call(this,o("df3c")["default"])},"70da":function(t,e,o){},"9c58":function(t,e,o){"use strict";o.r(e);var n=o("da7c"),i=o("e121");for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(a);o("ccd8");var r=o("828b"),s=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},ccd8:function(t,e,o){"use strict";var n=o("70da"),i=o.n(n);i.a},da7c:function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}));var n={mpHtml:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/mp-html/components/mp-html/mp-html")]).then(o.bind(null,"6ac6"))}},i=function(){var t=this.$createElement;this._self._c},a=[]},e121:function(t,e,o){"use strict";o.r(e);var n=o("3c06"),i=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=i.a}},[["27dd","common/runtime","common/vendor"]]]);