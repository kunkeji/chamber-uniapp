(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesMall/order/detail"],{"1b63":function(e,t,o){},"3f5b":function(e,t,o){"use strict";o.r(t);var n=o("fb61"),r=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t["default"]=r.a},"5eee":function(e,t,o){"use strict";o.r(t);var n=o("be60"),r=o("3f5b");for(var a in r)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return r[e]}))}(a);o("6640");var i=o("828b"),c=Object(i["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=c.exports},6640:function(e,t,o){"use strict";var n=o("1b63"),r=o.n(n);r.a},be60:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return r})),o.d(t,"a",(function(){}));var n=function(){var e=this.$createElement;this._self._c},r=[]},eb3c:function(e,t,o){"use strict";(function(e,t){var n=o("47a9");o("13b0");n(o("3240"));var r=n(o("5eee"));e.__webpack_require_UNI_MP_PLUGIN__=o,t(r.default)}).call(this,o("3223")["default"],o("df3c")["createPage"])},fb61:function(e,t,o){"use strict";(function(e){var n=o("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(o("7ca3")),a=o("8f59"),i=n(o("db5e"));function c(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var s={components:{store:function(){o.e("pagesMall/component/store/store").then(function(){return resolve(o("65d9"))}.bind(null,o)).catch(o.oe)}},data:function(){return{id:"",loadEnd:!1,orderDetail:{},orderData:{},addressData:{}}},onLoad:function(t){e.getStorageSync("token")?(e.showLoading({title:"加载中"}),this.id=t.id,this.getOrderDetail()):this.$util.toPage({mode:2,path:"/pages/login/index"})},computed:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach((function(t){(0,r.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},(0,a.mapState)({themeColor:function(e){return e.app.themeColor},iconClock:function(e){return i.default.svgToUrl("clock",e.app.themeColor)},iconMore:function(e){return i.default.svgToUrl("more",e.app.themeColor)}})),methods:{getOrderDetail:function(){var t=this;this.$util.request("mall.orderDetails",{order_id:this.id}).then((function(o){1==o.code?(t.orderDetail=o.data,t.addressData.defaultAddress=o.data.user_address,t.addressData.name=o.data.real_name,t.addressData.tel=o.data.user_phone,t.orderData.images=o.data.image,t.orderData.name=o.data.name,t.orderData.price=o.data.goods_price,e.hideLoading(),t.loadEnd=!0):e.showToast({title:o.msg,icon:"none"})})).catch((function(e){console.error("获取订单详情",e)}))},payCancel:function(t){var o=this;e.showModal({title:"提示",content:"确认取消该订单吗?",confirmText:"确认取消",confirmColor:this.themeColor,cancelText:"我再想想",cancelColor:"#999999",success:function(n){n.confirm&&o.$util.request("mall.delOrder",{order_id:t}).then((function(t){1==t.code?(e.showToast({title:"取消成功",duration:1e3}),setTimeout((function(){return e.navigateBack()}),1e3)):e.showToast({title:t.msg,icon:"none"})})).catch((function(e){console.error("取消订单",e)}))}})},pay:function(){this.$util.toPage({mode:2,path:"/pagesMall/order/pay?money="+this.orderDetail.total_price+"&id="+this.id})},toRefund:function(e){this.$util.toPage({mode:1,path:"/pagesMall/order/refund?id="+e})},signFor:function(t){var o=this;e.showModal({title:"提示",content:"确认此商品已收货,点击确认收货后订单完成?",confirmText:"确认收货",confirmColor:this.themeColor,cancelText:"我再想想",cancelColor:"#999999",success:function(n){n.confirm&&n.confirm&&o.$util.request("mall.orderCollect",{id:t}).then((function(t){1==t.code?(e.showToast({title:"签收成功",duration:1e3}),e.navigateBack()):e.showToast({title:t.msg,icon:"none"})})).catch((function(e){console.error("确认收货",e)}))}})},chooseAddress:function(){1==this.orderDetail.state&&this.$util.toPage({mode:1,path:"/pagesMall/address/index"})}}};t.default=s}).call(this,o("df3c")["default"])}},[["eb3c","common/runtime","common/vendor"]]]);