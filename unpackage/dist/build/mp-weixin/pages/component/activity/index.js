(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/component/activity/index"],{"601b":function(t,e,o){"use strict";o.r(e);var n=o("cea7"),i=o.n(n);for(var c in n)["default"].indexOf(c)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(c);e["default"]=i.a},"8c29":function(t,e,o){"use strict";var n=o("c70b"),i=o.n(n);i.a},c131:function(t,e,o){"use strict";o.r(e);var n=o("fbfd"),i=o("601b");for(var c in i)["default"].indexOf(c)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(c);o("8c29");var a=o("828b"),r=Object(a["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=r.exports},c70b:function(t,e,o){},cea7:function(t,e,o){"use strict";(function(t){var n=o("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(o("7ca3")),c=n(o("db5e")),a=o("8f59");function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}var s={name:"activityIndex",props:["showData","showType"],components:{activityPoster:function(){Promise.all([o.e("common/vendor"),o.e("pages/component/activity/poster")]).then(function(){return resolve(o("2130"))}.bind(null,o)).catch(o.oe)}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){(0,i.default)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},(0,a.mapState)({themeColor:function(t){return t.app.themeColor},iconTime:function(t){return c.default.svgToUrl("time",t.app.themeColor)},iconLocation:function(t){return c.default.svgToUrl("location",t.app.themeColor)},iconNetwork:function(t){return c.default.svgToUrl("network",t.app.themeColor)}})),methods:{pageChange:function(t){this.$emit("onChange",t)},handleRefund:function(e,o){var n=this;t.showModal({content:"确认申请退款此活动？退款后无法再次报名该活动",confirmColor:"#FF626E",confirmText:"确认退款",cancelColor:"#999999",cancelText:"取消退款",success:function(i){i.confirm&&n.$util.request("activity.applyRefund",{activity_id:o,apply_id:e}).then((function(e){1==e.code?t.redirectTo({url:"/pagesActivity/order/success"}):t.showToast({title:e.msg,icon:"none"})})).catch((function(t){console.error("申请退款 ",t)}))}})},toCancel:function(e){var o=this;t.showModal({content:"确认取消参加此活动？取消后无法再次报名此活动",confirmColor:"#FF626E",confirmText:"确认取消",cancelColor:"#999999",cancelText:"我再想想",success:function(n){n.confirm&&o.$util.request("activity.applyDel",{id:e}).then((function(e){1==e.code?(t.showToast({title:"已取消参加",icon:"none",duration:1e3}),o.$emit("getOrderList")):t.showToast({title:e.msg,icon:"none"})})).catch((function(t){console.error("取消参加 ",t)}))}})},toPayment:function(t){this.$util.toPage({mode:1,path:"/pagesActivity/index/order?id="+t})},handleCancel:function(e){var o=this;t.showModal({content:"确认取消参加此活动？取消后无法再次报名此活动",confirmColor:"#FF626E",confirmText:"确认取消",cancelColor:"#999999",cancelText:"我再想想",success:function(n){n.confirm&&o.$util.request("activity.applyCancel",{id:e}).then((function(e){1==e.code?(t.showToast({title:"已取消参加",icon:"none",duration:1e3}),o.$emit("getOrderList")):t.showToast({title:e.msg,icon:"none"})})).catch((function(t){console.error("取消参加 ",t)}))}})},showWebsite:function(e){e?t.showModal({content:e,confirmColor:this.themeColor,confirmText:"复制链接",cancelColor:"#999999",cancelText:"关闭页面",success:function(o){o.confirm&&t.setClipboardData({data:e,success:function(){t.showToast({icon:"success",title:"复制成功"})}})}}):t.showToast({icon:"none",title:"暂无线上地址，请稍后再试"})},toDetails:function(t){var e=this;2==this.showType?this.$util.toPage({mode:1,path:"/pagesActivity/order/details?order_id=".concat(t.id,"&activity_id=").concat(t.activity_id)}):3==this.showType?this.$util.toPage({mode:1,path:"/pagesActivity/verification/details?id="+t.id}):2==t.activity_auth?this.getMemberState((function(){e.$util.toPage({mode:1,path:"/pagesActivity/index/details?id="+t.id})})):this.$util.toPage({mode:1,path:"/pagesActivity/index/details?id="+t.id})},getMemberState:function(e){var o=this;t.showLoading({title:"加载中",mask:!0}),this.$util.request("member.state").then((function(n){t.hideLoading(),1==n.code?6==n.data.state.state?e():-1==n.data.state.state?t.showModal({title:"系统提示",content:"此页面需成为会员后可查看！",confirmColor:o.themeColor,confirmText:"去加入",success:function(e){e.confirm&&t.navigateTo({url:"/pages/member/apply/index"})}}):t.showModal({title:"系统提示",content:"此页面需成为会员后可查看！",confirmColor:o.themeColor,confirmText:"前往查看",success:function(e){e.confirm&&t.switchTab({url:"/pages/mine/index"})}}):t.showToast({title:n.msg,icon:"none"})})).catch((function(t){console.error("获取会员状态 ",t)}))}}};e.default=s}).call(this,o("df3c")["default"])},fbfd:function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,o=(t._self._c,t.__map(t.showData,(function(e,o){var n=t.__get_orig(e),i=2==t.showType&&1==e.activity_state&&1!=e.pay_state&&2==e.pay_state?parseFloat(e.fees):null;return{$orig:n,m0:i}})));t._isMounted||(t.e0=function(e,o){var n=arguments[arguments.length-1].currentTarget.dataset,i=n.eventParams||n["event-params"];o=i.item;return e.stopPropagation(),t.$refs.activityPoster.getPoster(o.activity_id)},t.e1=function(e,o){var n=arguments[arguments.length-1].currentTarget.dataset,i=n.eventParams||n["event-params"];o=i.item;return e.stopPropagation(),t.$refs.activityPoster.getPoster(o.activity_id)}),t.$mp.data=Object.assign({},{$root:{l0:o}})},i=[]}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/component/activity/index-create-component',
    {
        'pages/component/activity/index-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('df3c')['createComponent'](__webpack_require__("c131"))
        })
    },
    [['pages/component/activity/index-create-component']]
]);
