(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/industry"],{"30d7":function(t,e,n){"use strict";n.r(e);var i=n("a34a"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"70b8":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=(this._self._c,this.loadEnd?this.memberList.length:null);this.$mp.data=Object.assign({},{$root:{g0:e}})},o=[]},9414:function(t,e,n){},"98af":function(t,e,n){"use strict";var i=n("9414"),o=n.n(i);o.a},a34a:function(t,e,n){"use strict";(function(t){var i=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("af34")),a={components:{memberItem:function(){Promise.all([n.e("common/vendor"),n.e("pages/component/member/index")]).then(function(){return resolve(n("034c"))}.bind(null,n)).catch(n.oe)}},data:function(){return{loadEnd:!1,industryId:"",industryName:"",page:1,limit:20,hasMore:!1,memberList:[],isLocation:!1}},onLoad:function(e){var n=this;this.industryId=e.id,this.industryName=e.name,t.showLoading({title:"加载中"}),this.getAuthSetting((function(){t.hideLoading(),n.loadEnd=!0}))},onReachBottom:function(){this.hasMore&&(this.page++,this.getMemberList())},methods:{getAuthSetting:function(e){var n=this;t.getSetting({success:function(t){t.authSetting&&t.authSetting.hasOwnProperty("scope.userLocation")&&t.authSetting["scope.userLocation"]?(n.isLocation=!0,n.getMemberList(e)):(n.isLocation=!1,n.getMemberList(e))},fail:function(){n.isLocation=!1,n.getMemberList(e)}})},getMemberList:function(e){var n=this;this.getLocation((function(i){var a={page:n.page,limit:n.limit,industry_category_id:n.industryId};i&&i.latitude&&i.longitude&&(a.latitude=i.latitude,a.longitude=i.longitude),n.$util.request("member.list",a).then((function(i){if(e&&e(),1==i.code){var a=i.data.data;n.hasMore=n.page<i.data.total/n.limit,n.memberList=1==n.page?a:[].concat((0,o.default)(n.memberList),(0,o.default)(a))}else t.showToast({title:i.msg,icon:"none"})})).catch((function(t){console.error("获取会员列表 ",t)}))}))},getLocation:function(e){var n=this;this.isLocation?t.getLocation({type:"wgs84",geocode:!0,success:function(t){e({latitude:t.latitude,longitude:t.longitude})},fail:function(){n.isLocation=!1,e()}}):e()}}};e.default=a}).call(this,n("df3c")["default"])},b65a:function(t,e,n){"use strict";n.r(e);var i=n("70b8"),o=n("30d7");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("98af");var u=n("828b"),c=Object(u["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=c.exports},bece:function(t,e,n){"use strict";(function(t,e){var i=n("47a9");n("13b0");i(n("3240"));var o=i(n("b65a"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])}},[["bece","common/runtime","common/vendor"]]]);