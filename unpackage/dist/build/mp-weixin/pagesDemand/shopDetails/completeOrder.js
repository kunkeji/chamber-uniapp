(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesDemand/shopDetails/completeOrder"],{"19c7":function(t,e,n){"use strict";n.r(e);var r=n("978b"),a=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e["default"]=a.a},"3a8f":function(t,e,n){"use strict";var r=n("be51"),a=n.n(r);a.a},"978b":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{orderId:"",orderInfo:null}},methods:{getOrderType:function(t){switch(t){case"1":return"到店吃";case"2":return"到店取";case"3":return"外卖";default:return"未知"}},getOrderStatus:function(t){switch(t){case"1":return"已支付";case"2":return"已接单";case"3":return"已备齐";case"4":return"正在配送";case"5":return"已完成";default:return"未知"}},fetchOrderDetail:function(){var e=this;this.$util.request("main.Shop.getOrderDetail",{id:this.orderId}).then((function(n){1===n.code?e.orderInfo=n.data:t.showToast({title:"获取订单详情失败",icon:"none"})}))},confirmWriteOff:function(){var e=this,n=this.orderInfo.order_number;this.$util.request("main.Shop.writeOff",{order_number:n}).then((function(n){1===n.code?(t.showToast({title:"核销成功",icon:"success",success:function(){t.navigateBack()}}),e.fetchOrderDetail()):t.showToast({title:n.msg,icon:"none"})}))},startScan:function(){var e=this;t.scanCode({onlyFromCamera:!0,success:function(t){e.orderId=t.result,e.fetchOrderDetail()},fail:function(e){t.showToast({title:"扫码失败，请重试",icon:"none",success:function(){t.navigateBack()}})}})}},onLoad:function(){this.startScan()}};e.default=n}).call(this,n("df3c")["default"])},"9d9a":function(t,e,n){"use strict";(function(t,e){var r=n("47a9");n("13b0");r(n("3240"));var a=r(n("f256"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},a1db:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var r=function(){var t=this.$createElement,e=(this._self._c,this.orderInfo?this.getOrderType(this.orderInfo.order_type):null),n=this.orderInfo?this.getOrderStatus(this.orderInfo.status):null;this.$mp.data=Object.assign({},{$root:{m0:e,m1:n}})},a=[]},be51:function(t,e,n){},f256:function(t,e,n){"use strict";n.r(e);var r=n("a1db"),a=n("19c7");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("3a8f");var i=n("828b"),c=Object(i["a"])(a["default"],r["b"],r["c"],!1,null,"d51afda6",null,!1,r["a"],void 0);e["default"]=c.exports}},[["9d9a","common/runtime","common/vendor"]]]);