<view class="container" style="{{'--theme-color:'+(themeColor)+';'}}"><title-bar vue-id="6b4b36ba-1" showBack="{{true}}" title="登录" bind:__l="__l"></title-bar><block wx:if="{{loadEnd}}"><view class="container-main"><image class="main-header" src="{{loginImg}}" mode="aspectFit"></image><view class="main-login"><view class="login-title">小程序需要登录注册才能使用相关功能，申请获取以下权限</view><view class="login-subtitle">获得你的公开信息(昵称、头像、手机号码等)</view><block wx:if="{{isRegister}}"><view class="login-info"><view data-event-opts="{{[['tap',[['handleLogin',['$event']]]]]}}" class="info-btn" bindtap="__e">授权登录</view><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="info-btn cancel" bindtap="__e">暂不登录</view></view></block><block wx:else><block wx:if="{{!phoneNumber}}"><view class="login-info"><button class="info-btn" open-type="getPhoneNumber" data-event-opts="{{[['getphonenumber',[['decryptPhoneNumber',['$event']]]]]}}" bindgetphonenumber="__e">授权手机号</button><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="info-btn cancel" bindtap="__e">暂不授权</view></view></block><block wx:else><form data-event-opts="{{[['submit',[['handleLogin',['$event']]]]]}}" class="login-info" bindsubmit="__e"><view class="info-item"><view class="item-title">头像</view><button class="item-avatar" open-type="chooseAvatar" data-event-opts="{{[['chooseavatar',[['bindChooseAvatar',['$event']]]]]}}" bindchooseavatar="__e"><image class="image" src="{{avatarPath||'/static/login.png'}}" mode="aspectFill"></image></button></view><view class="info-item"><view class="item-title">昵称</view><input class="item-nickname" type="nickname" name="nickname" placeholder="请输入昵称" value="{{userInfo.nickname}}"/></view><button class="info-btn" style="margin-top:48rpx;" form-type="submit">授权登录</button><button data-event-opts="{{[['tap',[['handleRegister',['$event']]]]]}}" class="info-btn cancel" bindtap="__e">稍后授权</button></form></block></block></view></view></block></view>