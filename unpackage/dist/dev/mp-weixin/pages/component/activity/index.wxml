<view class="component-activity" style="{{'--theme-color:'+(themeColor)+';'}}" scroll-x="{{true}}"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['toDetails',['$0'],[[['showData','id',item.$orig.id]]]]]]]}}" class="{{['activity-item',(showType==1)?'special':'']}}" bindtap="__e"><block wx:if="{{showType==2}}"><view class="item-header flex justify-content-between align-items-center"><view class="header-number">{{"订单号："+item.$orig.order_no}}</view><view class="header-status"><block wx:if="{{item.$orig.pay_state==1}}"><text style="color:#FF626E;">待付款</text></block><block wx:else><block wx:if="{{item.$orig.pay_state==2}}"><block><block wx:if="{{item.$orig.activity_state==1}}"><text style="color:#FF9100;">报名中</text></block><block wx:else><block wx:if="{{item.$orig.activity_state==2}}"><text>进行中</text></block><block wx:else><block wx:if="{{item.$orig.activity_state==3}}"><text style="color:#666666;">已结束</text></block></block></block></block></block><block wx:else><block wx:if="{{item.$orig.pay_state==3}}"><text style="color:#FF9100;">退款中</text></block><block wx:else><block wx:if="{{item.$orig.pay_state==4}}"><text style="color:#666666;">已退款</text></block><block wx:else><block wx:if="{{item.$orig.pay_state==5}}"><text style="color:#FF626E;">已驳回</text></block></block></block></block></block></view></view></block><view class="item-info flex"><image class="info-image" src="{{item.$orig.images}}" mode="aspectFill"></image><view class="info-box flex-item"><view class="box-title text-ellipsis">{{item.$orig.name}}</view><view class="box-tag flex align-items-center"><block wx:if="{{iconTime}}"><view class="icon" style="{{'background-image:'+('url('+iconTime+')')+';'}}"></view></block><text class="text flex-item text-ellipsis">{{item.$orig.start_time+" | "+item.$orig.week}}</text></view><block wx:if="{{item.$orig.organizing_method==1}}"><view class="box-tag flex align-items-center"><block wx:if="{{iconNetwork}}"><view class="icon" style="{{'background-image:'+('url('+iconNetwork+')')+';'}}"></view></block><text class="text flex-item text-ellipsis">报名成功后查看</text></view></block><block wx:else><block wx:if="{{item.$orig.organizing_method==2}}"><view class="box-tag flex align-items-center"><block wx:if="{{iconLocation}}"><view class="icon" style="{{'background-image:'+('url('+iconLocation+')')+';'}}"></view></block><text class="text flex-item text-ellipsis">{{item.$orig.address}}</text></view></block></block></view></view><block wx:if="{{showType==2}}"><view class="item-footer flex align-items-center"><view class="footer-label"><block wx:if="{{item.$orig.organizing_method==1}}"><text>线上活动</text></block><block wx:else><block wx:if="{{item.$orig.organizing_method==2}}"><text>线下活动</text></block></block></view><view class="footer-price flex-item"><block wx:if="{{item.$orig.fees>0}}"><block><text>￥</text>{{item.$orig.fees+''}}</block></block><block wx:else><block>免费</block></block></view><view class="footer-btn flex"><block wx:if="{{item.$orig.activity_state==1}}"><block><block wx:if="{{item.$orig.pay_state==1}}"><block><view data-event-opts="{{[['tap',[['toCancel',['$0'],[[['showData','id',item.$orig.id,'id']]]]]]]}}" class="btn" style="background:#FF626E;" catchtap="__e">取消参加</view><view data-event-opts="{{[['tap',[['toPayment',['$0'],[[['showData','id',item.$orig.id,'activity_id']]]]]]]}}" class="btn" catchtap="__e">去支付</view></block></block><block wx:else><block wx:if="{{item.$orig.pay_state==2}}"><block><block wx:if="{{item.m0==0}}"><view data-event-opts="{{[['tap',[['handleCancel',['$0'],[[['showData','id',item.$orig.id,'id']]]]]]]}}" class="btn" style="background:#FF626E;" catchtap="__e">取消参加</view></block><block wx:else><block wx:if="{{item.$orig.refund==1}}"><view data-event-opts="{{[['tap',[['handleRefund',['$0','$1'],[[['showData','id',item.$orig.id,'id']],[['showData','id',item.$orig.id,'activity_id']]]]]]]}}" class="btn" style="background:#FF626E;" catchtap="__e">申请退款</view></block></block><block wx:if="{{item.$orig.organizing_method==1}}"><view data-event-opts="{{[['tap',[['showWebsite',['$0'],[[['showData','id',item.$orig.id,'url']]]]]]]}}" class="btn" style="background:#FFB656;" catchtap="__e">线上地址</view></block><block wx:else><block wx:if="{{item.$orig.organizing_method==2&&item.$orig.is_verifying==1&&item.$orig.is_sign_in==2}}"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" class="btn" style="background:#FFB656;" catchtap="__e">参会凭证</view></block></block></block></block><block wx:else><block wx:if="{{item.$orig.pay_state==5}}"><block><view class="btn" style="background:#FF626E;">驳回原因</view></block></block></block></block></block></block><block wx:else><block wx:if="{{item.$orig.activity_state==2}}"><block><block wx:if="{{item.$orig.organizing_method==1}}"><view data-event-opts="{{[['tap',[['showWebsite',['$0'],[[['showData','id',item.$orig.id,'url']]]]]]]}}" class="btn" style="background:#FFB656;" catchtap="__e">线上地址</view></block><block wx:else><block wx:if="{{item.$orig.organizing_method==2&&item.$orig.is_verifying==1&&item.$orig.is_sign_in==2}}"><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" class="btn" style="background:#FFB656;" catchtap="__e">参会凭证</view></block></block></block></block></block></view></view></block></view></block><activity-poster class="vue-ref" bind:onChange="__e" vue-id="5e7893ee-1" data-ref="activityPoster" data-event-opts="{{[['^onChange',[['pageChange']]]]}}" bind:__l="__l"></activity-poster></view>