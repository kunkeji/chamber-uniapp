{"version":3,"sources":["uni-app:///main.js","webpack:///G:/wwwroot/fastadmin插件/商协会文档/-/商协会-高级版/pagesDemand/canteen/shopList.vue?0d52","webpack:///G:/wwwroot/fastadmin插件/商协会文档/-/商协会-高级版/pagesDemand/canteen/shopList.vue?441a","webpack:///G:/wwwroot/fastadmin插件/商协会文档/-/商协会-高级版/pagesDemand/canteen/shopList.vue?f050","webpack:///G:/wwwroot/fastadmin插件/商协会文档/-/商协会-高级版/pagesDemand/canteen/shopList.vue?d212","uni-app:///pagesDemand/canteen/shopList.vue","webpack:///G:/wwwroot/fastadmin插件/商协会文档/-/商协会-高级版/pagesDemand/canteen/shopList.vue?9fc1","webpack:///G:/wwwroot/fastadmin插件/商协会文档/-/商协会-高级版/pagesDemand/canteen/shopList.vue?58f6"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","navigationBarTitle","shops","selectedShop","showDropdown","isBusinessOpen","currentStatus","orders","processingOrders","isLoading","computed","filteredOrders","hasOrders","watch","handler","immediate","methods","getOrderTypeText","toggleDropdown","selectShop","toggleBusinessStatus","shop_id","uni","title","duration","changeStatus","fetchShops","res","console","icon","fetchOrders","params","type","page","limit","order","isProcessing","handleOrderAction","targetOrder","order_number","status","navigateTo","url","getStatusText","onShow"],"mappings":"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","file":"pagesDemand/canteen/shopList.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesDemand/canteen/shopList.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./shopList.vue?vue&type=template&id=4a0f4f67&scoped=true&\"\nvar renderjs\nimport script from \"./shopList.vue?vue&type=script&lang=js&\"\nexport * from \"./shopList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shopList.vue?vue&type=style&index=0&id=4a0f4f67&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a0f4f67\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesDemand/canteen/shopList.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shopList.vue?vue&type=template&id=4a0f4f67&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map([\"1\", \"2\", \"3\", \"4\", \"5\"], function (status, __i1__) {\n    var $orig = _vm.__get_orig(status)\n    var m0 = _vm.getStatusText(status)\n    return {\n      $orig: $orig,\n      m0: m0,\n    }\n  })\n  var l1 = _vm.hasOrders\n    ? _vm.__map(_vm.filteredOrders, function (order, __i2__) {\n        var $orig = _vm.__get_orig(order)\n        var m1 = _vm.getOrderTypeText(order.order_type)\n        return {\n          $orig: $orig,\n          m1: m1,\n        }\n      })\n    : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, status) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        status = _temp2.status\n      var _temp, _temp2\n      return _vm.changeStatus(status)\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shopList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shopList.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page-container\">\r\n\t\t<title-bar :title=\"navigationBarTitle\"></title-bar>\r\n\t\t<!-- 顶部店铺信息卡片 -->\r\n\t\t<view class=\"shop-header\">\r\n\t\t\t<view class=\"shop-info\">\r\n\t\t\t\t<view class=\"dropdown\" @click=\"toggleDropdown\">\r\n\t\t\t\t\t<image class=\"shop-logo\" :src=\"selectedShop.shop_image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<text class=\"shop-name\">{{ selectedShop.title }}</text>\r\n\t\t\t\t\t<text class=\"dropdown-icon\" :class=\"{ 'active': showDropdown }\">▼</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"business-status\">\r\n\t\t\t\t\t<text :class=\"{ 'open': isBusinessOpen }\">{{isBusinessOpen ? '营业中' : '休息中'}}</text>\r\n\t\t\t\t\t<switch :checked=\"isBusinessOpen\" @change=\"toggleBusinessStatus\" color=\"#07c160\"/>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 店铺选择下拉菜单 -->\r\n\t\t\t<view class=\"dropdown-menu\" v-if=\"showDropdown\">\r\n\t\t\t\t<view class=\"dropdown-item\" \r\n\t\t\t\t\t  v-for=\"shop in shops\" \r\n\t\t\t\t\t  :key=\"shop.id\" \r\n\t\t\t\t\t  @click=\"selectShop(shop)\">\r\n\t\t\t\t\t<image class=\"shop-logo\" :src=\"shop.shop_image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<text class=\"shop-name\">{{ shop.title }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n \r\n\t\t<!-- 营业额统计卡片 -->\r\n\t\t<view class=\"revenue-cards\">\r\n\t\t\t<view class=\"revenue-card\">\r\n\t\t\t\t<text class=\"revenue-value\">¥{{ selectedShop.total_day }}</text>\r\n\t\t\t\t<text class=\"revenue-label\">今日营业额</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"revenue-card\">\r\n\t\t\t\t<text class=\"revenue-value\">¥{{ selectedShop.total_month }}</text>\r\n\t\t\t\t<text class=\"revenue-label\">本月营业额</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"revenue-card\">\r\n\t\t\t\t<text class=\"revenue-value\">¥{{ selectedShop.total_all }}</text>\r\n\t\t\t\t<text class=\"revenue-label\">总营业额</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 快捷功能按钮 -->\r\n\t\t<view class=\"quick-actions\">\r\n\t\t\t<view class=\"action-btn\" @click=\"navigateTo('menu1')\">\r\n\t\t\t\t<text class=\"action-icon\">🍽️</text>\r\n\t\t\t\t<text>菜品管理</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action-btn\" @click=\"navigateTo('menu2')\">\r\n\t\t\t\t<text class=\"action-icon\">⚙️</text>\r\n\t\t\t\t<text>店铺设置</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action-btn\" @click=\"navigateTo('menu3')\">\r\n\t\t\t\t<text class=\"action-icon\">📋</text>\r\n\t\t\t\t<text>订单核销</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 订单状态切换 -->\r\n\t\t<view class=\"order-status-tabs\">\r\n\t\t\t<view class=\"status-tab\" \r\n\t\t\t\t\tv-for=\"status in ['1', '2', '3', '4', '5']\" \r\n\t\t\t\t\t:key=\"status\"\r\n\t\t\t\t\t:class=\"{ 'active': currentStatus === status }\"\r\n\t\t\t\t\t@click=\"changeStatus(status)\">\r\n\t\t\t\t{{ getStatusText(status) }}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 订单列表 -->\r\n\t\t<scroll-view scroll-y class=\"order-list\">\r\n\t\t\t<template v-if=\"hasOrders\">\r\n\t\t\t\t<view class=\"order-card\" v-for=\"order in filteredOrders\" :key=\"order.id\">\r\n\t\t\t\t\t<view class=\"order-header\">\r\n\t\t\t\t\t\t<text class=\"order-number\">订单号：{{ order.order_number }}</text>\r\n\t\t\t\t\t\t<text class=\"order-type\">{{ getOrderTypeText(order.order_type) }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"order-info\">\r\n\t\t\t\t\t\t<view class=\"time-info\" v-if=\"order.order_type != '3'\">\r\n\t\t\t\t\t\t\t<text class=\"info-label\">预计用餐时间：</text>\r\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ order.expected_time }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"address-info\" v-if=\"order.order_type == '3'\">\r\n\t\t\t\t\t\t\t<text class=\"info-label\">配送地址：</text>\r\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ order.address }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"goods-list\">\r\n\t\t\t\t\t\t\t<view class=\"goods-item\" v-for=\"detail in order.order_details\" :key=\"detail.id\">\r\n\t\t\t\t\t\t\t\t<text class=\"goods-name\">{{ detail.name }}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"goods-quantity\">x{{ detail.quantity }}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"goods-price\">¥{{ detail.price }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"order-total\">\r\n\t\t\t\t\t\t\t<text>实付金额：</text>\r\n\t\t\t\t\t\t\t<text class=\"total-amount\">¥{{ order.total_amount }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"order-actions\">\r\n\t\t\t\t\t\t<button class=\"action-button\" \r\n\t\t\t\t\t\t\t\tv-if=\"order.status === '1'\"\r\n\t\t\t\t\t\t\t\t:disabled=\"order.isProcessing\"\r\n\t\t\t\t\t\t\t\t@click=\"handleOrderAction(order.order_number, '2')\">\r\n\t\t\t\t\t\t\t\t{{ order.isProcessing ? '处理中...' : '立即接单' }}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button class=\"action-button\" \r\n\t\t\t\t\t\t\t\tv-if=\"order.status === '2' && order.order_type != '3'\"\r\n\t\t\t\t\t\t\t\t:disabled=\"order.isProcessing\"\r\n\t\t\t\t\t\t\t\t@click=\"handleOrderAction(order.order_number, '3')\">\r\n\t\t\t\t\t\t\t\t{{ order.isProcessing ? '处理中...' : '准备就绪' }}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button class=\"action-button\" \r\n\t\t\t\t\t\t\t\tv-if=\"order.status === '2' && order.order_type == '3'\"\r\n\t\t\t\t\t\t\t\t:disabled=\"order.isProcessing\"\r\n\t\t\t\t\t\t\t\t@click=\"handleOrderAction(order.order_number, '4')\">\r\n\t\t\t\t\t\t\t\t{{ order.isProcessing ? '处理中...' : '开始配送' }}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t\t<view v-else class=\"empty-state\">\r\n\t\t\t\t<text class=\"empty-text\">暂无订单</text>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<style scoped>\r\n.page-container {\r\n\tmin-height: 100vh;\r\n\tbackground: #f5f7fa;\r\n\tpadding-bottom: env(safe-area-inset-bottom);\r\n}\r\n\r\n/* 店铺头部样式 */\r\n.shop-header {\r\n\tbackground: #fff;\r\n\tpadding: 30rpx;\r\n\tposition: relative;\r\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.shop-info {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n}\r\n\r\n.dropdown {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 12rpx 24rpx;\r\n\tbackground: #f8f9fa;\r\n\tborder-radius: 12rpx;\r\n}\r\n\r\n.shop-logo {\r\n\twidth: 60rpx;\r\n\theight: 60rpx;\r\n\tborder-radius: 50%;\r\n\tmargin-right: 16rpx;\r\n}\r\n\r\n.shop-name {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: 500;\r\n\tcolor: #333;\r\n\tmargin-right: 12rpx;\r\n}\r\n\r\n.dropdown-icon {\r\n\tfont-size: 24rpx;\r\n\tcolor: #999;\r\n\ttransition: transform 0.3s;\r\n}\r\n\r\n.dropdown-icon.active {\r\n\ttransform: rotate(180deg);\r\n}\r\n\r\n.business-status {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 16rpx;\r\n}\r\n\r\n.business-status text {\r\n\tfont-size: 28rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n.business-status text.open {\r\n\tcolor: #07c160;\r\n}\r\n\r\n/* 营业额卡片样式 */\r\n.revenue-cards {\r\n\tdisplay: flex;\r\n\tpadding: 20rpx;\r\n\tgap: 20rpx;\r\n}\r\n\r\n.revenue-card {\r\n\tflex: 1;\r\n\tbackground: linear-gradient(135deg, #1890ff, #40a9ff);\r\n\tpadding: 30rpx 20rpx;\r\n\tborder-radius: 16rpx;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tcolor: #fff;\r\n}\r\n\r\n.revenue-value {\r\n\tfont-size: 36rpx;\r\n\tfont-weight: bold;\r\n\tmargin-bottom: 8rpx;\r\n}\r\n\r\n.revenue-label {\r\n\tfont-size: 24rpx;\r\n\topacity: 0.9;\r\n}\r\n\r\n/* 快捷功能按钮 */\r\n.quick-actions {\r\n\tdisplay: flex;\r\n\tpadding: 30rpx;\r\n\tgap: 30rpx;\r\n}\r\n\r\n.action-btn {\r\n\tflex: 1;\r\n\tbackground: #fff;\r\n\tpadding: 24rpx;\r\n\tborder-radius: 16rpx;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tgap: 12rpx;\r\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.action-icon {\r\n\tfont-size: 40rpx;\r\n}\r\n\r\n.action-btn text:last-child {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n}\r\n\r\n/* 订单状态切换 */\r\n.order-status-tabs {\r\n\tdisplay: flex;\r\n\tbackground: #fff;\r\n\tpadding: 20rpx;\r\n\tgap: 20rpx;\r\n\tmargin: 20rpx 0;\r\n\toverflow-x: auto;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.status-tab {\r\n\tpadding: 16rpx 32rpx;\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n\tborder-radius: 8rpx;\r\n\ttransition: all 0.3s;\r\n}\r\n\r\n.status-tab.active {\r\n\tbackground: #1890ff;\r\n\tcolor: #fff;\r\n}\r\n\r\n/* 订单列表样式 */\r\n.order-list {\r\n\theight: calc(100vh - 450rpx);\r\n\tpadding: 20rpx;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.order-card {\r\n\tbackground: #fff;\r\n\tborder-radius: 16rpx;\r\n\tpadding: 30rpx;\r\n\tmargin-bottom: 20rpx;\r\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.05);\r\n\twidth: auto;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.order-header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 20rpx;\r\n\tpadding-bottom: 20rpx;\r\n\tborder-bottom: 2rpx solid #f5f5f5;\r\n}\r\n\r\n.order-number {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n}\r\n\r\n.order-type {\r\n\tfont-size: 26rpx;\r\n\tcolor: #1890ff;\r\n\tbackground: rgba(24, 144, 255, 0.1);\r\n\tpadding: 6rpx 16rpx;\r\n\tborder-radius: 6rpx;\r\n}\r\n\r\n.order-info {\r\n\tfont-size: 28rpx;\r\n}\r\n\r\n.time-info, .address-info {\r\n\tmargin-bottom: 16rpx;\r\n}\r\n\r\n.info-label {\r\n\tcolor: #999;\r\n}\r\n\r\n.info-value {\r\n\tcolor: #333;\r\n}\r\n\r\n.goods-list {\r\n\tbackground: #f8f9fa;\r\n\tpadding: 20rpx;\r\n\tborder-radius: 8rpx;\r\n\tmargin: 16rpx 0;\r\n\twidth: 100%;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.goods-item {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 12rpx;\r\n\tflex-wrap: nowrap;\r\n}\r\n\r\n.goods-name {\r\n\tflex: 1;\r\n\tcolor: #333;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\tmargin-right: 20rpx;\r\n}\r\n\r\n.goods-quantity {\r\n\tcolor: #666;\r\n\tmargin: 0 20rpx;\r\n}\r\n\r\n.goods-price {\r\n\tcolor: #ff4d4f;\r\n}\r\n\r\n.order-total {\r\n\ttext-align: right;\r\n\tmargin-top: 16rpx;\r\n}\r\n\r\n.total-amount {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #ff4d4f;\r\n}\r\n\r\n.order-actions {\r\n\tmargin-top: 20rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: flex-end;\r\n}\r\n\r\n.action-button {\r\n\tbackground: #07c160;\r\n\tcolor: #fff;\r\n\tfont-size: 28rpx;\r\n\tpadding: 16rpx 32rpx;\r\n\tborder-radius: 8rpx;\r\n\tborder: none;\r\n\tmin-width: 160rpx;\r\n\ttransition: all 0.3s ease;\r\n}\r\n\r\n.action-button:disabled {\r\n\tbackground: #a8e6c1;\r\n\tcursor: not-allowed;\r\n\topacity: 0.7;\r\n}\r\n\r\n.action-button:active:not(:disabled) {\r\n\topacity: 0.8;\r\n}\r\n\r\n/* 下拉菜单样式 */\r\n.dropdown-menu {\r\n\tposition: absolute;\r\n\ttop: 100%;\r\n\tleft: 30rpx;\r\n\tright: 30rpx;\r\n\tbackground: #fff;\r\n\tborder-radius: 16rpx;\r\n\tbox-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.1);\r\n\tz-index: 100;\r\n\tmax-height: 400rpx;\r\n\toverflow-y: auto;\r\n}\r\n\r\n.dropdown-item {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 24rpx;\r\n\tborder-bottom: 2rpx solid #f5f5f5;\r\n}\r\n\r\n.dropdown-item:last-child {\r\n\tborder-bottom: none;\r\n}\r\n\r\n.dropdown-item:active {\r\n\tbackground: #f8f9fa;\r\n}\r\n\r\n/* 添加空状态样式 */\r\n.empty-state {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tpadding: 60rpx 0;\r\n}\r\n\r\n.empty-text {\r\n\tfont-size: 28rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n/* 添加加载状态样式 */\r\n.loading {\r\n\topacity: 0.6;\r\n\tpointer-events: none;\r\n}\r\n</style>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tnavigationBarTitle: \"商家管理\",\r\n\t\t\t\tshops: [],\r\n\t\t\t\tselectedShop: {},\r\n\t\t\t\tshowDropdown: false,\r\n\t\t\t\tisBusinessOpen: true,\r\n\t\t\t\tcurrentStatus: '1',\r\n\t\t\t\torders: [],\r\n\t\t\t\tprocessingOrders: new Set(),\r\n\t\t\t\tisLoading: false,\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tfilteredOrders() {\r\n\t\t\t\treturn this.orders.filter(order => order.status === this.currentStatus);\r\n\t\t\t},\r\n\t\t\thasOrders() {\r\n\t\t\t\treturn this.filteredOrders.length > 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tselectedShop: {\r\n\t\t\t\thandler(newShop) {\r\n\t\t\t\t\tif (newShop.id) {\r\n\t\t\t\t\t\tthis.fetchOrders();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\timmediate: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetOrderTypeText(type) {\r\n\t\t\t\tconst orderTypes = {\r\n\t\t\t\t\t'1': '到店吃',\r\n\t\t\t\t\t'2': '到店取',\r\n\t\t\t\t\t'3': '外卖'\r\n\t\t\t\t};\r\n\t\t\t\treturn orderTypes[type] || '未知类型';\r\n\t\t\t},\r\n\t\t\ttoggleDropdown() {\r\n\t\t\t\tthis.showDropdown = !this.showDropdown;\r\n\t\t\t},\r\n\t\t\tselectShop(shop) {\r\n\t\t\t\tthis.selectedShop = shop;\r\n\t\t\t\tthis.showDropdown = false;\r\n\t\t\t\tthis.fetchOrders();\r\n\t\t\t},\r\n\t\t\ttoggleBusinessStatus(e) {\r\n\t\t\t\tthis.isBusinessOpen = e.detail.value;\r\n\t\t\t\t// updateStatusByShopId\r\n\t\t\t\tthis.$util.request(\"main.Shop.updateStatusByShopId\",{shop_id:this.selectedShop['id']}).then(res => {\r\n\t\t\t\t\tif (res.code === 1) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '状态已更新',\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchangeStatus(status) {\r\n\t\t\t\tthis.currentStatus = status;\r\n\t\t\t\tthis.fetchOrders();\r\n\t\t\t},\r\n\t\t\tasync fetchShops() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await this.$util.request(\"main.Shop.getShopByUserId\");\r\n\t\t\t\t\tif (res.code === 1) {\r\n\t\t\t\t\t\tthis.shops = res.data;\r\n\t\t\t\t\t\tthis.selectedShop = this.shops[0];\r\n\t\t\t\t\t\tthis.isBusinessOpen = this.selectedShop['status'] === '1';\r\n\t\t\t\t\t\tawait this.fetchOrders();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('获取店铺列表失败:', error);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '获取店铺失败',\r\n\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync fetchOrders() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst params = {\r\n\t\t\t\t\t\tshop_id: this.selectedShop.id,\r\n\t\t\t\t\t\ttype: 'all',\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tlimit: 10\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tconst res = await this.$util.request(\"main.Shop.getOrderListByShopIdPage\", params);\r\n\t\t\t\t\tif (res.code === 1) {\r\n\t\t\t\t\t\tthis.orders = res.data.map(order => ({\r\n\t\t\t\t\t\t\t...order,\r\n\t\t\t\t\t\t\tisProcessing: false\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('获取订单列表失败:', error);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '获取订单失败',\r\n\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync handleOrderAction(orderId, type) {\r\n\t\t\t\tif (this.processingOrders.has(orderId)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.processingOrders.add(orderId);\r\n\t\t\t\tconst targetOrder = this.orders.find(o => o.order_number === orderId);\r\n\t\t\t\tif (targetOrder) {\r\n\t\t\t\t\tthis.$set(targetOrder, 'isProcessing', true);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst params = {\r\n\t\t\t\t\t\torder_number: orderId,\r\n\t\t\t\t\t\tstatus: type\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst res = await this.$util.request(\"main.Shop.changeStatus\", params);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (res.code === 1) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '操作成功',\r\n\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tawait this.fetchOrders();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '操作失败',\r\n\t\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('操作失败:', error);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '操作失败',\r\n\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.processingOrders.delete(orderId);\r\n\t\t\t\t\tconst order = this.orders.find(o => o.order_number === orderId);\r\n\t\t\t\t\tif (order) {\r\n\t\t\t\t\t\tthis.$set(order, 'isProcessing', false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tnavigateTo(menu) {\r\n\t\t\t\t// 这里可以添加导航到不同菜单的逻辑\r\n\t\t\t\tvar shopid = this.selectedShop['id']\r\n\t\t\t\tswitch (menu){\r\n\t\t\t\t\tcase 'menu1':uni.navigateTo({url:'/pagesDemand/shopDetails/goodsDetails?id='+shopid})\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'menu2':uni.navigateTo({url:'/pagesDemand/shopDetails/shopDetails?id='+shopid})\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'menu3':uni.navigateTo({url:'/pagesDemand/shopDetails/completeOrder'})\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 新增获取状态文字方法\r\n\t\t\tgetStatusText(status) {\r\n\t\t\t\tconst statusMap = {\r\n\t\t\t\t\t'1': '已支付',\r\n\t\t\t\t\t'2': '已接单',\r\n\t\t\t\t\t'3': '已准备',\r\n\t\t\t\t\t'4': '配送中',\r\n\t\t\t\t\t'5': '已完成'\r\n\t\t\t\t};\r\n\t\t\t\treturn statusMap[status] || status;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.fetchShops();\r\n\t\t}\r\n\t};\r\n</script>","import mod from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shopList.vue?vue&type=style&index=0&id=4a0f4f67&scoped=true&lang=css&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./shopList.vue?vue&type=style&index=0&id=4a0f4f67&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1732355112857\n      var cssReload = require(\"F:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}